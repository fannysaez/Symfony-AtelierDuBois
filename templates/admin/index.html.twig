{% extends 'base.html.twig' %}

{% block title %}Tableau de bord - L'Atelier du Bois{% endblock %}

{% block main %}


<section class="dashboard-container">
    <div class="flex flex-column gap-25">
        <div class="flex flex-column items-center">
            <h1 class="text-center">Tableau de bord</h1>
            <p class="text-center p-5">Bienvenue dans l'administration de l'Atelier du Bois</p>
            <div class="action-buttons p-15">
                <a href="{{ path('home_index') }}" class="btn btn-primary">Retour au site</a>
            </div>
        </div>

        {# <div class="dashboard-stats">
            <div class="stat-card">
                <h4>Utilisateurs</h4>
                <p class="stat-number"></p>
            </div>
            <div class="stat-card">
                <h4>Produits</h4>
                <p class="stat-number"></p>
            </div>
            <div class="stat-card">
                <h4>Commandes personnalisées</h4>
                <p class="stat-number"></p>
            </div>
            <div class="stat-card">
                <h4>Matériaux</h4>
                <p class="stat-number"></p>
            </div>
            <div class="stat-card">
                <h4>Types de bois</h4>
                <p class="stat-number"></p>
            </div>
            <div class="stat-card">
                <h4>Catégories</h4>
                <p class="stat-number"></p>
            </div>
        </div>

        <div class="dashboard-section">
            <h3>Dernières commandes personnalisées</h3>
            <div class="chart-container">
                <canvas id="ordersChart"></canvas>
            </div>
            <table class="dashboard-table">
                <thead>
                    <tr>
                        <th>Email</th>
                        <th>Matériau</th>
                        <th>Type de bois</th>
                        <th>Dimensions</th>
                        <th>Date</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td class="action-buttons">
                            <a href="#" class="btn btn-primary">Détails</a>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="6" class="text-center">Aucune commande trouvée</td>
                    </tr>
                </tbody>
            </table>
        </div> #}

        <div class="dashboard-section">
            <h3>Derniers produits ajoutés</h3>
            <table class="dashboard-table">
                <thead>
                    <tr>
                        <th>Nom</th>
                        <th>Catégorie</th>
                        <th>Matériau</th>
                        <th>Type de bois</th>
                        <th>Prix HT</th>
                        <th>Date d'ajout</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>

                    {% for product in products %}

                    <tr>
                        <td>{{product.name}}</td>
                        <td>{{product.category.name}}</td>
                        <td>{{product.material.name}}</td>
                        <td>{{product.woodtype.name}}</td>
                        <td>{{product.priceht}}</td>
                        <td>{{product.createdat|date("d/m/Y")}}</td>
                        <td class="action-buttons">
                            <a href="#" class="btn btn-primary">Éditer</a>
                        </td>
                    </tr>
                    <tr>
                        {% endfor %}
                        <td colspan="7" class="text-center">Aucun produit trouvé</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="dashboard-grid">
            <div class="dashboard-section">
                <h3>Matériaux les plus utilisés</h3>
                <div class="chart-container">
                    <canvas id="materialsChart"></canvas>
                </div>
            </div>

            <div class="dashboard-section">
                <h3>Types de bois les plus demandés</h3>
                <div class="chart-container">
                    <canvas id="woodTypesChart"></canvas>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}